<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>League-of-Legends-Result-Predictions</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="League-of-Legends-Result-Predictions" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="League-of-Legends-Result-Predictions" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="League-of-Legends-Result-Predictions" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","headline":"League-of-Legends-Result-Predictions","name":"League-of-Legends-Result-Predictions","url":"http://localhost:4000/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=eef2ef893c34d5d860a2b1f758118aa777ac88d8">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">League-of-Legends-Result-Predictions</h1>
      <h2 class="project-tagline"></h2>
      
        <a href="https://github.com/mwdai049/League-of-Legends-Result-Predictions" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <p>by Monica Dai (mwdai@ucsd.edu)</p>

<hr />

<h2 id="introduction">Introduction</h2>

<p>The data used in this project is League of Legends 2023 Esports stats found on <a href="https://oracleselixir.com/">Oracle’s Elixir</a>. The original dataset contains 125904 rows and 131 columns. Each 12 rows in the dataset corresponds to one game, in which the first 10 are individual players’ data and the remaining 2 are rows of aggregrated team data. In this project, I focus my attention on data regarding gold stats. This theme emerged from my curiosity towards how gold can impact the outcomes of games, especially in terms of early game data. I explore how players in each lane may demonstrate different dynamics with regards to gold stats, and look into how this relates to the final victory or loss.</p>

<p>Specifically, my question is: “Which lane’s early game gold advantage is most indicative of victory?” This question may be of interest towards those who aren’t so familiar with League of Legends gameplay dynamics, and can clarify some objectives that can better ensure victories.</p>

<p><strong>Description of Columns:</strong></p>

<p><code class="language-plaintext highlighter-rouge">gameid</code>: a unique identification for each game in the dataset</p>

<p><code class="language-plaintext highlighter-rouge">league</code>: the league in which the game takes place in</p>

<p><code class="language-plaintext highlighter-rouge">side</code>: which side a player is on for the given game, either blue or red</p>

<p><code class="language-plaintext highlighter-rouge">position</code>: the position a player played, either ‘top’, ‘jng’, ‘mid’, ‘bot’, or ‘sup’</p>

<p><code class="language-plaintext highlighter-rouge">playerid</code>: a unique identification for each professional player</p>

<p><code class="language-plaintext highlighter-rouge">champion</code>: the name of the champion that the player chose for the given game</p>

<p><code class="language-plaintext highlighter-rouge">result</code>: the final victory or loss, 1 means victory and 0 means loss</p>

<p><code class="language-plaintext highlighter-rouge">kills</code>: the kills made by the player at 15 minutes into the game</p>

<p><code class="language-plaintext highlighter-rouge">goldat10</code>: the gold earned at 10 minutes into the game</p>

<p><code class="language-plaintext highlighter-rouge">golddiffat10</code>: the difference in gold between given player and their lane opponent at 10 minutes into the game</p>

<p><code class="language-plaintext highlighter-rouge">goldat15</code>: the gold earned at 15 minutes into the game</p>

<p><code class="language-plaintext highlighter-rouge">golddiffat15</code>: the difference in gold between given player and their lane opponent at 15 minutes into the game</p>

<h2 id="data-cleaning-and-exploratory-data-analysis">Data Cleaning and Exploratory Data Analysis</h2>

<p>To start, I filtered the rows to only keep player data. That is, I performed a query on the DataFrame to only keep rows in which <code class="language-plaintext highlighter-rouge">position</code> did not equal ‘team’, meaning it was either ‘top’, ‘jng’, ‘mid’, ‘bot’, or ‘sup’. I also filtered the columns to only keep the ones of interest: <code class="language-plaintext highlighter-rouge">gameid</code>, <code class="language-plaintext highlighter-rouge">league</code>, <code class="language-plaintext highlighter-rouge">side</code>, <code class="language-plaintext highlighter-rouge">position</code>, <code class="language-plaintext highlighter-rouge">playerid</code>, <code class="language-plaintext highlighter-rouge">champion</code>, <code class="language-plaintext highlighter-rouge">result</code>, <code class="language-plaintext highlighter-rouge">kills</code>, <code class="language-plaintext highlighter-rouge">goldat10</code>, <code class="language-plaintext highlighter-rouge">golddiffat10</code>, <code class="language-plaintext highlighter-rouge">goldat15</code>, <code class="language-plaintext highlighter-rouge">golddiffat15</code>. Lastly, I added columns <code class="language-plaintext highlighter-rouge">more_gold_at_10</code> and <code class="language-plaintext highlighter-rouge">more_gold_at_15</code> which denoted <code class="language-plaintext highlighter-rouge">True</code> if this player had more gold than their lane opponent 10 or 15 minutes into the game, and <code class="language-plaintext highlighter-rouge">False</code> if they had less. These two columns made grouping analyses easier.</p>

<p>I observed 16,660 rows in which gold data at 10 and 15 minutes was missing. I chose to drop these rows because I believe imputations would not be most appropriate in this scenario. I’m interested in the gold data of each player and how such data relates to the result, so if I were to perform imputations, I would want to fill in the null values which would closely resemble true values. To do so, I would ideally probabilistically impute conditional on <code class="language-plaintext highlighter-rouge">playerid</code>, since an individual’s own data likely reflects their performance closest. I would need to do this for both the player themselves and their opponent, but that would be really random and there isn’t enough data to impute on. That is, not many players with missing data had rows in which this data was not missing. The random imputation could also introduce data that doesn’t reflect reality, thus interfering with further steps of analysis and predictions. Thus, I chose to drop these 16,660 rows with missing gold data, leaving me with 88,260 rows of player data.</p>

<p>The first five rows to the processed DataFrame are as follows:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right"> </th>
      <th style="text-align: left">gameid</th>
      <th style="text-align: left">league</th>
      <th style="text-align: left">side</th>
      <th style="text-align: left">position</th>
      <th style="text-align: left">playerid</th>
      <th style="text-align: left">champion</th>
      <th style="text-align: right">result</th>
      <th style="text-align: right">killsat15</th>
      <th style="text-align: right">goldat10</th>
      <th style="text-align: right">golddiffat10</th>
      <th style="text-align: right">goldat15</th>
      <th style="text-align: right">golddiffat15</th>
      <th style="text-align: left">more_gold_at_10</th>
      <th style="text-align: left">more_gold_at_15</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">0</td>
      <td style="text-align: left">ESPORTSTMNT06_2753012</td>
      <td style="text-align: left">LFL2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">top</td>
      <td style="text-align: left">oe:player:60aff1184bec1d2b2efdae84f5b6e3e</td>
      <td style="text-align: left">Jax</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3163</td>
      <td style="text-align: right">76</td>
      <td style="text-align: right">5059</td>
      <td style="text-align: right">322</td>
      <td style="text-align: left">True</td>
      <td style="text-align: left">True</td>
    </tr>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: left">ESPORTSTMNT06_2753012</td>
      <td style="text-align: left">LFL2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">jng</td>
      <td style="text-align: left">oe:player:fd78e127e45463dcfc2ea3836af0335</td>
      <td style="text-align: left">Poppy</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3035</td>
      <td style="text-align: right">87</td>
      <td style="text-align: right">4325</td>
      <td style="text-align: right">-357</td>
      <td style="text-align: left">True</td>
      <td style="text-align: left">False</td>
    </tr>
    <tr>
      <td style="text-align: right">2</td>
      <td style="text-align: left">ESPORTSTMNT06_2753012</td>
      <td style="text-align: left">LFL2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">mid</td>
      <td style="text-align: left">oe:player:baf7147fedeec5de54ca1f240952a3f</td>
      <td style="text-align: left">Taliyah</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3117</td>
      <td style="text-align: right">-338</td>
      <td style="text-align: right">4956</td>
      <td style="text-align: right">-479</td>
      <td style="text-align: left">False</td>
      <td style="text-align: left">False</td>
    </tr>
    <tr>
      <td style="text-align: right">3</td>
      <td style="text-align: left">ESPORTSTMNT06_2753012</td>
      <td style="text-align: left">LFL2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">bot</td>
      <td style="text-align: left">oe:player:8204ca38dc1c42012b5d53131271eb1</td>
      <td style="text-align: left">Ezreal</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3344</td>
      <td style="text-align: right">329</td>
      <td style="text-align: right">5217</td>
      <td style="text-align: right">200</td>
      <td style="text-align: left">True</td>
      <td style="text-align: left">True</td>
    </tr>
    <tr>
      <td style="text-align: right">4</td>
      <td style="text-align: left">ESPORTSTMNT06_2753012</td>
      <td style="text-align: left">LFL2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: left">oe:player:bb97cd2e43cb0855f6485e6f9e93ea2</td>
      <td style="text-align: left">Karma</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">1953</td>
      <td style="text-align: right">-79</td>
      <td style="text-align: right">2827</td>
      <td style="text-align: right">-216</td>
      <td style="text-align: left">False</td>
      <td style="text-align: left">False</td>
    </tr>
  </tbody>
</table>

<h3 id="univariate-analysis">Univariate Analysis</h3>

<p>As the first step to EDA, I created a plot that visualizes the distribution of gold earned at 15 minutes for all players. I observed two peaks, roughly at the 3K and 5K gold marks. From prior knowledge, I know that Supports generally follow the Bot Laner into the bottom lane, and that they should be leaving last hits and kills to other players. Since last hits on minions and player kills all award gold, I believe this could explain the smaller peak at 3K gold, in that Supports will generally have less gold than the other players, thus forming its own peak. The other players seem to follow a more normalized distribution centered around 5K gold.</p>

<iframe src="assets/uni-2.html" width="800" height="425" frameborder="0"></iframe>

<h3 id="bivariate-analysis">Bivariate Analysis</h3>

<p>To further explore the distribution of gold earned at 15 from above, I created a histogram facet grid for the distribution of gold earned at 15 for each position (top, jng, mid, bot, sup) and result (won, lost). All plots are on the same scale and follow a roughly normal distribution, though a little right skewness could be observed for the distributions of winning players (the first row of plots). The winning players’ distributions (first row) also seem to have overall higher gold values than the losing players’ distributions (second row), which makes sense because more gold seems to be tied with greater advantage. It’s also noticeable that Supports, no matter the result, have distributions that are more centered around the mean than any other position. This observation brought me back to the gameplay patterns of Supports in which they generally leave last hits and kills to their teammates. This pattern could result in less variation in gold earned than other players, since Supports generally avoid the previously mentioned actions that gain gold. And as previously hypothesized, the gold distribution of Supports mostly lies in the 2-4K region, whereas the distribution of other positions mostly lies in the 4-6K region. This likely corresponds to the two peaks in the univariate analysis plot.</p>

<iframe src="assets/bivar-2.html" width="850" height="425" frameborder="0"></iframe>

<h3 id="interesting-aggregates">Interesting Aggregates</h3>

<p>In searching for aggregates, I pivoted by the columns <code class="language-plaintext highlighter-rouge">more_gold_at_15</code> and <code class="language-plaintext highlighter-rouge">position</code>, taking the average of <code class="language-plaintext highlighter-rouge">result</code>. This evalutes to a table where I can examine the win rates of each position depending on if they had more or less gold than their lane opponent at 15 minutes. Since gold earned is a marker of advantage, it isn’t difficult to see that those who had more gold (first row) had higher win rates than those who had less gold (second row).</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">more_gold_at_15</th>
      <th style="text-align: right">bot</th>
      <th style="text-align: right">jng</th>
      <th style="text-align: right">mid</th>
      <th style="text-align: right">sup</th>
      <th style="text-align: right">top</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">True</td>
      <td style="text-align: right">0.673164</td>
      <td style="text-align: right">0.633178</td>
      <td style="text-align: right">0.659186</td>
      <td style="text-align: right">0.663832</td>
      <td style="text-align: right">0.613327</td>
    </tr>
    <tr>
      <td style="text-align: left">False</td>
      <td style="text-align: right">0.37426</td>
      <td style="text-align: right">0.40337</td>
      <td style="text-align: right">0.384426</td>
      <td style="text-align: right">0.381125</td>
      <td style="text-align: right">0.417681</td>
    </tr>
  </tbody>
</table>

<p>To further examine these win rates, I took the difference in win rates between more gold and less gold to produce the following.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: right">bot</th>
      <th style="text-align: right">jng</th>
      <th style="text-align: right">mid</th>
      <th style="text-align: right">sup</th>
      <th style="text-align: right">top</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Diff in Win Rates</td>
      <td style="text-align: right">0.298904</td>
      <td style="text-align: right">0.229808</td>
      <td style="text-align: right">0.274761</td>
      <td style="text-align: right">0.282708</td>
      <td style="text-align: right">0.195646</td>
    </tr>
  </tbody>
</table>

<p>What caught my attention was the large difference between Bot Laners and Top Laners. There’s a 10% gap between these two laners’ difference in win rates, which led me to think that whether or not a Bot Laner had gold advantage might be significant in determining final result.</p>

<h2 id="assessment-of-missingness">Assessment of Missingness</h2>

<p><strong>NMAR Analysis</strong></p>

<p>Many columns have missing data in the original DataFrame due to the aforementioned structure of the dataset where for each game, 10 rows correspond to players, and 2 correspond to teams. In some cases, it simply wouldn’t make sense to have data in that column for player rows, such as pick order (<code class="language-plaintext highlighter-rouge">pick1</code>, <code class="language-plaintext highlighter-rouge">pick2</code>, <code class="language-plaintext highlighter-rouge">pick3</code>, <code class="language-plaintext highlighter-rouge">pick4</code>, <code class="language-plaintext highlighter-rouge">pick5</code>). The same goes for team rows, for columns such as <code class="language-plaintext highlighter-rouge">playerid</code> or <code class="language-plaintext highlighter-rouge">champion</code>.</p>

<p>However, I noticed that there were 21,015 values missing for <code class="language-plaintext highlighter-rouge">playername</code> and <code class="language-plaintext highlighter-rouge">playerid</code>, even though there were only 20,984 rows that corresponded to team data. After singling out the 31 player rows with missing values, the table below shows their related information. Since each player usually plays a designated position in each team, I hypothesize that these rows correspond to 5 or 6 individuals and their performance in different games, based off the values of <code class="language-plaintext highlighter-rouge">teamname</code> and <code class="language-plaintext highlighter-rouge">position</code>. I argue that <code class="language-plaintext highlighter-rouge">playername</code> and <code class="language-plaintext highlighter-rouge">playerid</code> are NMAR, meaning the missingness is due to the players themselves.</p>

<p>I first rule out MD because it wouldn’t make sense for data regarding player name and ID to be purposefully left out during data collection. I also don’t believe it is MAR because just by looking at the other columns, I cannot determine the likelihood that the value is missing. There are other rows in which the same combination of <code class="language-plaintext highlighter-rouge">teamname</code> and <code class="language-plaintext highlighter-rouge">position</code> do indeed have player information. Lastly, I believe there are patterns discernable enough such that this data isn’t simply MCAR. If it was MCAR, I would expect more variation in <code class="language-plaintext highlighter-rouge">teamname</code> and <code class="language-plaintext highlighter-rouge">position</code>, rather than the same individuals missing over multiple games despite their teammates’ information being recorded. Thus, I believe there must have been some unknown reason related to the players themselves which led to missing <code class="language-plaintext highlighter-rouge">playername</code> and <code class="language-plaintext highlighter-rouge">playerid</code>, making these columns NMAR.</p>

<p>Additional data I would like to obtain that could potentially explain the missingness of <code class="language-plaintext highlighter-rouge">playerid</code> may include records of substitution or player abnormalities during given games. If a substitution took place, resulting in the original player’s name to not be recorded and instead left as null, then the missingness of <code class="language-plaintext highlighter-rouge">playername</code> and <code class="language-plaintext highlighter-rouge">playerid</code> could become more explainable by looking into the data.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">gameid</th>
      <th style="text-align: left">league</th>
      <th style="text-align: right">game</th>
      <th style="text-align: left">side</th>
      <th style="text-align: left">position</th>
      <th style="text-align: right">playername</th>
      <th style="text-align: right">playerid</th>
      <th style="text-align: left">teamname</th>
      <th style="text-align: left">champion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">ESPORTSTMNT02_3161006</td>
      <td style="text-align: left">PGN</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">mid</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">DREN Esports</td>
      <td style="text-align: left">Viktor</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT02_3161035</td>
      <td style="text-align: left">PGN</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">GGEsports</td>
      <td style="text-align: left">Rakan</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT02_3160621</td>
      <td style="text-align: left">PGN</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">mid</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">DREN Esports</td>
      <td style="text-align: left">Syndra</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT02_3170083</td>
      <td style="text-align: left">PGN</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">mid</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">DREN Esports</td>
      <td style="text-align: left">Viktor</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT02_3171378</td>
      <td style="text-align: left">PGN</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">mid</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">DREN Esports</td>
      <td style="text-align: left">Syndra</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT02_3169606</td>
      <td style="text-align: left">PGN</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">mid</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">DREN Esports</td>
      <td style="text-align: left">Kassadin</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT05_3220607</td>
      <td style="text-align: left">EM</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">top</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">Los Heretics</td>
      <td style="text-align: left">Rumble</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT05_3220607</td>
      <td style="text-align: left">EM</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">jng</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">Los Heretics</td>
      <td style="text-align: left">Vi</td>
    </tr>
    <tr>
      <td style="text-align: left">10062-10062_game_1</td>
      <td style="text-align: left">LDL</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">bot</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">FunPlus Phoenix Blaze</td>
      <td style="text-align: left">Jinx</td>
    </tr>
    <tr>
      <td style="text-align: left">10062-10062_game_2</td>
      <td style="text-align: left">LDL</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">bot</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">FunPlus Phoenix Blaze</td>
      <td style="text-align: left">Aphelios</td>
    </tr>
    <tr>
      <td style="text-align: left">10062-10062_game_3</td>
      <td style="text-align: left">LDL</td>
      <td style="text-align: right">3</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">bot</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">FunPlus Phoenix Blaze</td>
      <td style="text-align: left">Zeri</td>
    </tr>
    <tr>
      <td style="text-align: left">10074-10074_game_1</td>
      <td style="text-align: left">LDL</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">bot</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">FunPlus Phoenix Blaze</td>
      <td style="text-align: left">Zeri</td>
    </tr>
    <tr>
      <td style="text-align: left">10074-10074_game_2</td>
      <td style="text-align: left">LDL</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">bot</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">FunPlus Phoenix Blaze</td>
      <td style="text-align: left">Xayah</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228169</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Nautilus</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228183</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Leona</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228197</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Nautilus</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228207</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Alistar</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3227713</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Karma</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228289</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Nautilus</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3227716</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">3</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Leona</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3227720</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">4</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Rell</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228292</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Rell</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3228324</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Bard</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3227765</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Rakan</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3226799</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">3</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Rakan</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3227767</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">4</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Tahm Kench</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3226802</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Nautilus</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3226815</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">1</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Karma</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3226816</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">2</td>
      <td style="text-align: left">Red</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Tahm Kench</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3227787</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">3</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Bard</td>
    </tr>
    <tr>
      <td style="text-align: left">ESPORTSTMNT03_3226818</td>
      <td style="text-align: left">VCS</td>
      <td style="text-align: right">4</td>
      <td style="text-align: left">Blue</td>
      <td style="text-align: left">sup</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: right">nan</td>
      <td style="text-align: left">APOLLO GAMING</td>
      <td style="text-align: left">Nautilus</td>
    </tr>
  </tbody>
</table>

<p><strong>Missingness Dependency</strong></p>

<p>However, a friend who watches professional League of Legends matches told me that different leagues may have different data collection processes. I noticed that many rows had missing values for the data related to 10 and 15 minutes into the game, such as <code class="language-plaintext highlighter-rouge">xpat10</code>, <code class="language-plaintext highlighter-rouge">goldat15</code>, etc. I believed that the missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> could be dependent on <code class="language-plaintext highlighter-rouge">league</code>, and conducted a permutation test with significance level at 0.05.</p>

<p><strong>Null hypothesis</strong>: missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> is not dependent on <code class="language-plaintext highlighter-rouge">league</code></p>

<p><strong>Alternative hypothesis</strong>: missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> is dependent on <code class="language-plaintext highlighter-rouge">league</code></p>

<iframe src="assets/mar-bar.html" width="850" height="425" frameborder="0"></iframe>

<p>The above figures show the distribution of leagues by missingness of gold. The test statistic used in this permutation test was TVD of league distribution between gold missing and not missing. The observed test statistic was calculated to be 0.9916, and the below histogram shows the distribution of simulated TVDs compared to the observed TVD. As can be seen, no simulated TVDs were nearly as high as what was observed, so the p-value is 0, which is lower than the significance level of 0.05. We thus <strong>reject</strong> the null hypothesis which postulates that the missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> is not dependent on <code class="language-plaintext highlighter-rouge">league</code>.</p>

<iframe src="assets/mar-distribution.html" width="850" height="425" frameborder="0"></iframe>

<hr />

<p>As for a column that missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> does not depend on, I chose to examine the missingness dependency of <code class="language-plaintext highlighter-rouge">goldat15</code> on <code class="language-plaintext highlighter-rouge">result</code>. I conducted another permutation test with significance level at 0.05.</p>

<p><strong>Null hypothesis</strong>: missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> is not dependent on <code class="language-plaintext highlighter-rouge">result</code></p>

<p><strong>Alternative hypothesis</strong>: missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> is dependent on <code class="language-plaintext highlighter-rouge">result</code></p>

<p>The test statistic used in this permutation test was difference in win rates between players whose gold is missing and players whose gold is not missing. The observed test statistic was calculated to be 0.0003, and the below histogram shows the distribution of simulated differences in win rates. There are plenty of observed test statistics where the difference in win rate was greater than the observed difference, and the p-value is 0.95. Since the p-value is greater than the significance level, 0.05, we <strong>fail to reject</strong> the null hypothesis which poses that missingness of <code class="language-plaintext highlighter-rouge">goldat15</code> is not dependent on <code class="language-plaintext highlighter-rouge">result</code>.</p>

<iframe src="assets/mar-diffmeans.html" width="850" height="425" frameborder="0"></iframe>

<h2 id="hypothesis-testing">Hypothesis Testing</h2>

<p>From the previous section, I noticed that Bottom Laners had the greatest difference in win rates between those who had a gold advantage at 15 minutes and those who did not. Thus, in this section about hypothesis testing, I’m interested in observing how early game advantages may snowball into greater advantages for Bottom Laners, using kills at 15 as a metric. I chose to use kills at 15 because in the game, more kills generally translates to a greater advantage. Also, important factors such as barons and souls are not yet relevant at the 15 minute mark, thus ruling out some potential confounding factors.</p>

<p><strong>Question</strong>: Do Bottom Laners with more gold get more kills early in the game?</p>

<p><strong>Null Hypothesis</strong>: Early in the game, Bottom Laners with a gold advantage get roughly the same number of kills as those without.</p>

<p><strong>Alternative Hypothesis</strong>: Early in the game, Bottom Laners with a gold advantage get more kills than those without.</p>

<p><strong>Test Statistic</strong>: Difference in mean kills at 15 minutes between Bottom Laners who had more gold at 10 minutes and Bottom Laners who did not (With Gold Advantage - No Gold Advantage).</p>

<p><strong>Significance Level</strong>: 0.05</p>

<p>This permutation test would be able to compare the kills between Bottom Laners with and without an early gold advantage. Assuming the null hypothesis, we expect the test statistic to be approximately 0. A test statistic pointing towards the alternative hypothesis would be a positive number, since Bottom Laners with gold advantage would have more kills than those without advantage.</p>

<p>The distribution of simulated test statistics compared to the observed test statistic is displayed below. As can be seen, the observed statistic is 0.797 and is much greater than any of the test statistics simulated under the null hypothesis, which are indeed centered approximately at 0. The p-value is 0, so we <strong>reject</strong> the null hypothesis that there is no difference between the kills at 15 made by Bottom Laners with and without gold advantage at 10. This suggests that a gold advantage may indeed indicate potential snowballing of advantages through more kills than those without advantage.</p>

<iframe src="assets/hypothesis-test.html" width="800" height="425" frameborder="0"></iframe>

<hr />
<hr />

<h2 id="framing-a-prediction-problem">Framing a Prediction Problem</h2>

<p>In terms of prediction, the outcome of the game is probably what people care about most. From my previous analysis, it seems that gold accumulation could be important in determining Bottom Laners’ advantage and thus final result of a game. Thus, I plan to use Bottom Laners’ early game data to predict their result. This is a binary classification problem where I try to predict <code class="language-plaintext highlighter-rouge">result</code>, which takes on either 0, which corresponds to a loss, or 1, which corresponds to a victory. I will be using accuracy to evaluate my model. I chose accuracy over F-1 score because recall and precision aren’t too important in this scenario, since the consequences of incorrect predictions aren’t very severe. Accuracy is also appropriate in this case because I have balanced data–the proportion of wins to losses is very similar, essentially 50-50.</p>

<p>Before I can build my model, I first clean out unnecessary rows and columns such that only relevant <strong>early game</strong> Bottom Laner data is remaining. I had to make sure to drop any information that would only be known after the game ends. To engineer a new feature for the Final Model, I also added the columns <code class="language-plaintext highlighter-rouge">teamgoldat10</code> and <code class="language-plaintext highlighter-rouge">teamgoldat15</code>, which represent each player’s team gold at 10, 15 minutes. The first five rows of the cleaned DataFrame look like this:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">champion</th>
      <th style="text-align: right">result</th>
      <th style="text-align: right">killsat15</th>
      <th style="text-align: right">goldat10</th>
      <th style="text-align: right">goldat15</th>
      <th style="text-align: right">golddiffat10</th>
      <th style="text-align: right">golddiffat15</th>
      <th style="text-align: right">teamgoldat10</th>
      <th style="text-align: right">teamgoldat15</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Ezreal</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3344</td>
      <td style="text-align: right">5217</td>
      <td style="text-align: right">329</td>
      <td style="text-align: right">200</td>
      <td style="text-align: right">14612</td>
      <td style="text-align: right">22384</td>
    </tr>
    <tr>
      <td style="text-align: left">Zeri</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">3015</td>
      <td style="text-align: right">5017</td>
      <td style="text-align: right">-329</td>
      <td style="text-align: right">-200</td>
      <td style="text-align: right">14537</td>
      <td style="text-align: right">22914</td>
    </tr>
    <tr>
      <td style="text-align: left">Lucian</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">2</td>
      <td style="text-align: right">3573</td>
      <td style="text-align: right">5706</td>
      <td style="text-align: right">-304</td>
      <td style="text-align: right">175</td>
      <td style="text-align: right">15969</td>
      <td style="text-align: right">24771</td>
    </tr>
    <tr>
      <td style="text-align: left">Draven</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">3877</td>
      <td style="text-align: right">5531</td>
      <td style="text-align: right">304</td>
      <td style="text-align: right">-175</td>
      <td style="text-align: right">16330</td>
      <td style="text-align: right">24098</td>
    </tr>
    <tr>
      <td style="text-align: left">Varus</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3045</td>
      <td style="text-align: right">4892</td>
      <td style="text-align: right">-73</td>
      <td style="text-align: right">53</td>
      <td style="text-align: right">14794</td>
      <td style="text-align: right">22945</td>
    </tr>
  </tbody>
</table>

<h2 id="baseline-model">Baseline Model</h2>

<p>For my Baseline Model, I decided to use a RandomForestClassifier on the two columns <code class="language-plaintext highlighter-rouge">goldat10</code> and <code class="language-plaintext highlighter-rouge">goldat15</code>, which represent the amount of gold each Bottom Laner had at the 10 and 15 minute mark in a game. I was curious to see how well my model could predict <code class="language-plaintext highlighter-rouge">result</code> based on these two quantitative features alone. I used the columns as is and didn’t need to perform any encodings. Below is a preview of the data I used to train my Baseline Model.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">result</th>
      <th style="text-align: right">goldat10</th>
      <th style="text-align: right">goldat15</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: right">3344</td>
      <td style="text-align: right">5217</td>
    </tr>
    <tr>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3015</td>
      <td style="text-align: right">5017</td>
    </tr>
    <tr>
      <td style="text-align: right">0</td>
      <td style="text-align: right">3573</td>
      <td style="text-align: right">5706</td>
    </tr>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: right">3877</td>
      <td style="text-align: right">5531</td>
    </tr>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: right">3045</td>
      <td style="text-align: right">4892</td>
    </tr>
  </tbody>
</table>

<p>My model achieved a training accuracy of 84.33%, and a testing accuracy of 61.11%. My current model is better than a random guess, but I wouldn’t say it is a “good” model since there are other features I may incorporate to increase the model’s accuracy on unseen data.</p>

<h2 id="final-model">Final Model</h2>

<p>In the Final Model, I aim to increase my model’s performance by introducing the following new features:</p>

<p><code class="language-plaintext highlighter-rouge">champion</code>: One-Hot Encoded, certain Bottom Lane champions may have an advantage over others, increasing the possibility of victory.</p>

<p><code class="language-plaintext highlighter-rouge">moregoldat10</code>, <code class="language-plaintext highlighter-rouge">moregoldat15</code>: these features are binary, where 1 corresponds to having more gold than lane opponent and 0 corresponds to not having more gold than lane opponent. This feature indicates an early gold advantage over the opponent, whereas the original features of my Baseline Model did not provide such a comparison. As observed from previous parts, early gold advantages may be an important factor in determining victory.</p>

<p><code class="language-plaintext highlighter-rouge">goldshareat10</code>, <code class="language-plaintext highlighter-rouge">goldshareat15</code>: these quantitative features indicate the Bottom Laner’s share of gold within their team. If the value of this feature is much higher or lower than average, it may indicate that something in the teamplay is abnormal, e.g. someone is carrying, and that the team is at disadvantage.</p>

<p><code class="language-plaintext highlighter-rouge">killsat15</code>: kill data is a direct indicator of advantage, so more kills may suggest higher win rate. Only including kills at the 15 minute mark to restrict to early game data.</p>

<p><strong>Model and Hyperparameter Choice</strong>: I chose to continue using a RandomForestClassifier for my Final Model since I had a classification problem. I chose optimal hyperparameters using GridSearchCV, and the results were max_depth = 10, max_features = sqrt, min_samples_leaf = 1, min_samples_split = 5, n_estimators = 100. Tuning these parameters slightly increased my test accuracy.</p>

<p><strong>Final Model Performance</strong>: My Final Model achieved training accuracy of 85.69% and testing accuracy of 70.59%. It demonstrated a 9.48% increase compared to the Baseline Model’s testing accuracy. Incorporating new features which provided comparisons in terms of advantage seemed to have indeed increased the model’s ability to predict outcomes. A potential inherent limitation to this model is that it only makes predictions on early game data, and does not have access to other factors which are also heavy influencers of a team’s victory, such as baron kills and souls.</p>

<p>Below is a confusion matrix of my Final Model’s predictions. Of 4,413 predictions, it correctly predicted the victory of 1,562 teams and loss of 1553 teams. It incorrectly predicted that 677 teams would lose even though they actually won, and predicted that 621 teams would win even though they actually lost.</p>

<p><img src="/assets/confusion-matrix.png" alt="Confusion Matrix" /></p>

<h2 id="fairness-analysis">Fairness Analysis</h2>

<p><strong>Question</strong>: Does my model achieve accuracy parity for Bottom Laners on both sides, red and blue?</p>

<p><strong>Null Hypothesis</strong>: My model is fair. Its accuracy for predicting the result of blue teams and red teams are roughly the same, and any differences are due to random chance.</p>

<p><strong>Alternative Hypothesis</strong>: My model is unfair. Its accuracy for predicting the result of blue teams and red teams are significantly different.</p>

<p><strong>Test Statistic</strong>: Difference in Accuracy</p>

<p><strong>Significance Level</strong>: 0.05</p>

<p>After performing a permutation test to assess the accuracy parity of my model, the following histogram depicts the distribution of differences in accuracy. The p-value was 0.481, which is greater than the significance level, so we <strong>fail to reject</strong> the null hypothesis which poses that my model is fair and that any differences in accuracy between Bottom Laners on blue teams and red teams is due to random chance.</p>

<iframe src="assets/fairness.html" width="800" height="425" frameborder="0"></iframe>



      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/mwdai049/League-of-Legends-Result-Predictions">League-of-Legends-Result-Predictions</a> is maintained by <a href="https://github.com/mwdai049">mwdai049</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
